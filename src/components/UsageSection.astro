---
const demos = [
  {
    label: "file browser",
    description: "run climp with no arguments to browse and play local files.",
    gif: "/demo/browser.gif",
  },
  {
    label: "url playback",
    description: "play from a URL (YouTube, SoundCloud, etc). requires yt-dlp. press s to save as mp3.",
    gif: "/demo/url-fixed.gif",
  },
  {
    label: "visualizer",
    description: "press v to cycle through visualizers: vu, spectrum, waveform, braille, dense, matrix, hatching.",
    gif: "/demo/visualizer.gif",
  },
  {
    label: "playlists",
    description: "local directories and YouTube playlists. use n/p to skip tracks, j/k to scroll the queue.",
    gif: "/demo/playlist.gif",
  },
];

const keybindings = [
  ["space", "pause / play"],
  ["left / h", "seek -5s"],
  ["right / l", "seek +5s"],
  ["up / k", "volume +5%"],
  ["down / j", "volume -5%"],
  ["v", "cycle visualizer"],
  ["r", "toggle repeat (off / song / playlist)"],
  ["n", "next track"],
  ["N / p", "previous track"],
  ["enter", "play selected track"],
  ["del / backspace", "remove track from queue"],
  ["s", "save as mp3"],
  ["q / esc / ctrl+c", "quit"],
];
---

<div class="space-y-6">
  {/* Usage commands */}
  <div>
    <h2 class="text-xs text-[var(--color-accent)] mb-2">usage</h2>
    <div class="bg-[var(--color-bg)] border border-[var(--color-border)] rounded-lg overflow-hidden">
      <pre class="px-4 py-3 text-xs text-[var(--color-text-muted)] overflow-x-auto"><code>climp                 # open interactive file browser
climp song.mp3        # play a local file (+ directory playlist)
climp &lt;url&gt;           # play from URL (YouTube, etc)
climp &lt;playlist-url&gt;  # play a YouTube playlist</code></pre>
    </div>
  </div>

  {/* Demos */}
  <div class="space-y-4">
    {demos.map((demo) => (
      <div>
        <h3 class="text-xs text-[var(--color-accent)] mb-1">{demo.label}</h3>
        <p class="text-xs text-[var(--color-text-faint)] mb-2">{demo.description}</p>
        <div class="border border-[var(--color-border)] rounded-lg overflow-hidden">
          <img
            src={demo.gif}
            alt={`${demo.label} demo`}
            class="w-full block"
            loading="lazy"
          />
        </div>
      </div>
    ))}
  </div>

  {/* Keybindings */}
  <div>
    <h2 class="text-xs text-[var(--color-accent)] mb-2">keybindings</h2>
    <div class="bg-[var(--color-bg)] border border-[var(--color-border)] rounded-lg overflow-hidden">
      <table class="w-full text-xs">
        <tbody>
          {keybindings.map(([key, action]) => (
            <tr class="border-b border-[var(--color-border)] last:border-b-0">
              <td class="px-4 py-1.5 text-[var(--color-text)] whitespace-nowrap w-1/3">{key}</td>
              <td class="px-4 py-1.5 text-[var(--color-text-muted)]">{action}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
</div>
